{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  cartItems: [],\n  //элементы корзины\n  totalQuantity: 0,\n  //общее количество\n  totalAmount: 0 //общая сумма\n};\n\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: initialState,\n  reducers: {\n    addItem(state, action) {\n      const newItem = action.payload; // новые товары\n      const existingItem = state.cartItems.find(item => item.id === newItem.id); // существующий элемент\n      state.totalQuantity++;\n      if (!existingItem) {\n        state.cartItems.push({\n          id: newItem.id,\n          title: newItem.title,\n          image01: newItem.image01,\n          price: newItem.price,\n          quantity: 1,\n          totalPrice: newItem.price\n        });\n      } else {\n        existingItem.quantity++;\n        existingItem.totalPrice = Number(existingItem.totalPrice) + Number(newItem.price);\n      }\n      state.totalAmount = state.cartItems.reduce((total, item) => total + Number(item.price) * Number(item.quantity));\n    }\n  }\n});\nexport const cartAction = cartSlice.action;\nexport default cartSlice;","map":{"version":3,"names":["createSlice","initialState","cartItems","totalQuantity","totalAmount","cartSlice","name","reducers","addItem","state","action","newItem","payload","existingItem","find","item","id","push","title","image01","price","quantity","totalPrice","Number","reduce","total","cartAction"],"sources":["C:/ProjectProects/project-pizza/src/store/shopping-cart/cartSlice.js"],"sourcesContent":["import {createSlice} from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst initialState = {\r\n    cartItems: [],        //элементы корзины\r\n    totalQuantity: 0,   //общее количество\r\n    totalAmount: 0     //общая сумма\r\n}\r\n\r\nconst cartSlice = createSlice({\r\n    name: 'cart',\r\n    initialState: initialState,\r\n\r\n    reducers: {\r\n        addItem(state, action) {\r\n            const newItem = action.payload; // новые товары\r\n            const existingItem = state.cartItems.find(item => item.id === newItem.id); // существующий элемент\r\n            state.totalQuantity++;\r\n\r\n            if (!existingItem) {\r\n                state.cartItems.push(\r\n                    {\r\n                        id: newItem.id,\r\n                        title: newItem.title,\r\n                        image01: newItem.image01,\r\n                        price: newItem.price,\r\n                        quantity: 1,\r\n                        totalPrice: newItem.price,\r\n                    }\r\n                )\r\n            } else {\r\n                existingItem.quantity++;\r\n                existingItem.totalPrice = Number(existingItem.totalPrice) + Number(newItem.price);\r\n            }\r\n            state.totalAmount = state.cartItems.reduce((total, item) =>\r\n                (total + Number(item.price) * Number(item.quantity)));\r\n        }\r\n    }\r\n})\r\n\r\nexport const cartAction = cartSlice.action;\r\nexport default cartSlice;"],"mappings":"AAAA,SAAQA,WAAW,QAAO,kBAAkB;AAG5C,MAAMC,YAAY,GAAG;EACjBC,SAAS,EAAE,EAAE;EAAS;EACtBC,aAAa,EAAE,CAAC;EAAI;EACpBC,WAAW,EAAE,CAAC,CAAK;AACvB,CAAC;;AAED,MAAMC,SAAS,GAAGL,WAAW,CAAC;EAC1BM,IAAI,EAAE,MAAM;EACZL,YAAY,EAAEA,YAAY;EAE1BM,QAAQ,EAAE;IACNC,OAAOA,CAACC,KAAK,EAAEC,MAAM,EAAE;MACnB,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAO,CAAC,CAAC;MAChC,MAAMC,YAAY,GAAGJ,KAAK,CAACP,SAAS,CAACY,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKL,OAAO,CAACK,EAAE,CAAC,CAAC,CAAC;MAC3EP,KAAK,CAACN,aAAa,EAAE;MAErB,IAAI,CAACU,YAAY,EAAE;QACfJ,KAAK,CAACP,SAAS,CAACe,IAAI,CAChB;UACID,EAAE,EAAEL,OAAO,CAACK,EAAE;UACdE,KAAK,EAAEP,OAAO,CAACO,KAAK;UACpBC,OAAO,EAAER,OAAO,CAACQ,OAAO;UACxBC,KAAK,EAAET,OAAO,CAACS,KAAK;UACpBC,QAAQ,EAAE,CAAC;UACXC,UAAU,EAAEX,OAAO,CAACS;QACxB,CACJ,CAAC;MACL,CAAC,MAAM;QACHP,YAAY,CAACQ,QAAQ,EAAE;QACvBR,YAAY,CAACS,UAAU,GAAGC,MAAM,CAACV,YAAY,CAACS,UAAU,CAAC,GAAGC,MAAM,CAACZ,OAAO,CAACS,KAAK,CAAC;MACrF;MACAX,KAAK,CAACL,WAAW,GAAGK,KAAK,CAACP,SAAS,CAACsB,MAAM,CAAC,CAACC,KAAK,EAAEV,IAAI,KAClDU,KAAK,GAAGF,MAAM,CAACR,IAAI,CAACK,KAAK,CAAC,GAAGG,MAAM,CAACR,IAAI,CAACM,QAAQ,CAAE,CAAC;IAC7D;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMK,UAAU,GAAGrB,SAAS,CAACK,MAAM;AAC1C,eAAeL,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}